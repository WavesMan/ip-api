## 输出语言
- 始终使用中文输出
- 当我提到设计、讨论时，不要给出代码，只与我讨论设计思路，不参与代码实现。

## 注释规范
### 代码注释规范
1. 核心原则：注释仅补充代码无法自解释的信息，优先说明「为什么做」（业务背景/特殊约束），而非「做什么」（代码本身需自清晰）；禁止冗余注释（如解释显而易见的变量赋值、循环逻辑）。
2. 格式要求：
   - 单行注释：符号后加1个空格（// 注释、# 注释、-- 注释），行内注释与代码间至少隔2个空格；
   - 块注释：缩进对齐，首尾空行，禁止用块注释注释代码（需删除或通过版本控制管理）；
   - 文档注释：结构化描述函数/类的功能、参数约束、返回值含义、异常触发条件，无需重复代码已体现的类型/名称。
3. 特殊注释：使用「TODO/FIXME/WARNING/DEPRECATED/NOTE」标记待办/风险/废弃逻辑，格式为「// 标记: 具体内容」，标记需大写且后接冒号。
4. 通用约束：
   - 注释需与代码同步更新，禁止注释与代码矛盾；
   - 统一使用团队约定的语言**中文**，禁止中英文混用；
   - 禁止使用版本相关表述（如「XX版本」「优化版本」「新：」等），仅聚焦逻辑本身；
   - 常量/配置注释需解释值的含义/来源/约束，而非值本身；
   - 布尔变量、集合变量注释需体现语义（如isLogin/hasPermission、userList/orderMap）。
5. 禁止行为：注释掉代码、复制粘贴通用模板注释、模糊化表述（如「处理数据」需明确为「清洗用户输入数据（过滤特殊字符）」）。

## 代码规范

1. **代码开发进行解耦设计，保持单个代码文件500行左右**
2. 所有变量名禁止使用如 `NewDB` `newSupport` 等携带 `new` 关键字的风格

3. 花括号 `{}`：Google Style风格
     - 左括号紧跟语句末尾，不换行；
     - 代码块内内容缩进（通常2/4空格）；
     - 右括号 `}` 单独一行，与块起始语句对齐；
     - 单行代码块（如简单if）可省略`{}`，但建议统一保留（避免bug）。
    ```java
    // 函数示例
    public void printInfo(String name) {  // { 紧跟括号后，不换行
        System.out.println("Name: " + name);  // 缩进
        if (name.isEmpty()) {  // 嵌套块同理
            System.out.println("Empty name");
        }
    }  // } 单独一行，与public对齐

    // 条件语句示例
    if (age > 18) {
        System.out.println("Adult");
    } else {  // else 与上一个 } 同行
        System.out.println("Minor");
    }
    ```

4. 字面量（对象/字典、集合）：按长度拆分
    规则：
    - 短字面量：单行书写，`{}` 内无换行；
    - 长字面量/多属性：每个属性单独一行，缩进，最后一个属性后可加逗号（尾逗号，主流规范推荐）；
    - 右括号 `}` 单独一行，与字面量起始位置对齐。

    ```javascript
    // 短对象：单行
    const user = { name: "Alice", age: 20 };

    // 长对象：多行拆分
    const user = {
        name: "Alice",
        age: 20,
        address: {  // 嵌套对象同理
            city: "Beijing",
            street: "Main St"
        },
    };  // 尾逗号（可选，简化增删行）

    // Python字典示例（PEP8）
    user = {
        "name": "Alice",
        "age": 20,
        "hobbies": ["reading", "coding"],
    }
    ```

5. 方括号 `[]`：数组/列表/索引的换行规范
`[]` 用于数组/列表、索引/切片、参数列表（部分语言），核心是“短单行，长分行”。

   - 数组/列表字面量
       规则：
     - 短列表：单行书写；
     - 长列表/多元素：每个元素单独一行，缩进，右括号单独一行对齐；
     - 嵌套列表：内层列表按同样规则拆分。

        ```python
        # 短列表：单行
        nums = [1, 2, 3]

        # 长列表：多行拆分（PEP8）
        nums = [
            1,
            2,
            3,
            4,
            5,
        ]

        # 嵌套列表
        matrix = [
            [1, 2, 3],
            [4, 5, 6],
            [7, 8, 9],
        ]
        ```

    - 索引/切片：禁止无意义换行
       - 索引/切片必须紧凑，除非是极长的链式操作（需结合括号）；
       - 错误示例：`arr[1: 10]`（空格多余）、`arr[
           10
       ]`（无意义换行）；
       - 正确示例：`arr[1:10]`、`arr[idx + offset]`。

1. 圆括号 `()`：括号/函数/表达式的换行规范
`()` 用于函数参数、表达式分组、元组等，换行核心是“参数/表达式过长时拆分，对齐统一”。

    - 函数定义/调用：参数拆分
    规则：
      - 短参数：单行书写；
      - 长参数/多参数：每个参数单独一行，缩进（与左括号后对齐，或与函数名对齐）；
      - 右括号 `)` 单独一行，与函数名/左括号起始位置对齐；
      - 函数调用的括号内换行，参数缩进需一致。

        ```javascript
        // 短参数：单行
        function add(a, b) { return a + b; }

        // 长参数：多行拆分（Airbnb Style）
        function fetchData(
            url,
            method = "GET",
            headers = {},
            timeout = 10000
        ) {
            // 逻辑
        }

        // 函数调用换行
        const result = fetchData(
            "https://api.example.com/data",
            "POST",
            { "Content-Type": "application/json" },
            20000
        );
        ```

        ```python
        # Python函数定义（PEP8：参数换行后缩进4空格）
        def calculate(
            num1,
            num2,
            operator="+",
            precision=2
        ):
            return round(eval(f"{num1}{operator}{num2}"), precision)

        # 函数调用换行
        result = calculate(
            10.5,
            20.3,
            "*",
            4
        )
        ```

    - 表达式分组：换行保持逻辑连贯
       - 长表达式拆分行时，括号内的换行需对齐，保持运算优先级清晰；
       - 避免“悬空”的运算符（运算符应在行尾，而非行首）。

        ```java
        // 长表达式拆分（运算符在行尾）
        int total = (
            a + b + c
            + d * e
            - f / g
        );

        // 错误示例（运算符在行首，易读性差）
        int total = (
            a + b + c +
            d * e -
            f / g
        );
        ```

    - 元组（Python）：同列表规范
       - 短元组：单行书写；
       - 长元组/多元素：每个元素单独一行，缩进，右括号单独一行对齐；
       - 嵌套元组：内层元组按同样规则拆分。

        ```python
        # 短元组：单行
        point = (1, 2)

        # 长元组：多行拆分
        user_info = (
            "Alice",
            20,
            "Beijing",
            "female",
        )
        ```

1. 通用核心原则（跨符号）
   - **一致性**：团队/项目内必须统一风格（如选K&R则全项目用K&R，禁止混合）；
   - **可读性**：换行的目的是让代码结构清晰，避免“为了换行而换行”；
   - **避免冗余**：单行能清晰表达的内容，绝不强行拆分（如短对象/短参数）；
   - **嵌套对齐**：多层嵌套的括号（如`{[]()}`），内层比外层缩进一级，避免层级混乱；
   - **尾逗号**：主流规范（PEP8、Airbnb）推荐保留尾逗号（新增元素时无需修改上一行，减少git diff）；
   - **空格规范**：
     - 括号内首尾无空格：`{a: 1}`（正确），`{ a: 1 }`（错误，部分语言允许但不推荐）；
     - 括号与关键字/函数名之间无空格：`if (x)`（正确），`if ( x )`（错误）；
     - 逗号后必须加空格：`[1, 2, 3]`（正确），`[1,2,3]`（错误）。

7.不同语言的特殊注意
   - **Python**：PEP8规范要求缩进4空格，括号内换行后参数缩进4空格，禁止行尾空格；
   - **Go**：强制使用K&R风格，`{` 必须紧跟语句（如`if x {`），否则编译错误；
   - **Java**：Google Java Style要求`{` 不换行，参数换行后与左括号后对齐；
   - **JavaScript**：Airbnb Style推荐参数换行后缩进2空格，尾逗号可选。
